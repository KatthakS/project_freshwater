<!DOCTYPE html>
<html lang="en">

<head>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <title>SFSC-Login/Signup</title>
    
        <!-- Required Stylesheets -->
        <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
        <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css" />
    
        <!-- Required scripts -->
        <script src="https://unpkg.com/vue@latest/dist/vue.js"></script>
        <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
        <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.min.js"></script>
        <script src="/static/js/navbar.js"></script>
    <script>

    function openPage(pageName, elmnt, color) {
        // Hide all elements with class="tabcontent" by default */
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
      
        // Remove the background color of all tablinks/buttons
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].style.backgroundColor = "";
        }
      
        // Show the specific tab content
        document.getElementById(pageName).style.display = "block";
      
        // Add the specific color to the button used to open the tab content
        elmnt.style.backgroundColor = color;
      }
      
      // Get the element with id="defaultOpen" and click on it
      document.getElementById("defaultOpen").click();</script>
      <link rel="stylesheet" href="../static/css/login.css">
</head>

<body>
<!-- Jinja Macros -->
{% macro capitalize(text) %}
  {{ text[0]|upper}}{{text[1:] }}
{% endmacro %}

<div id="app">
  <navbar-component></navbar-component>

  <!-- new login -->
  <b-container align="right">
    <div>

        <b-button pill id="show-btn" v-b-modal.modal-center>Log in / Sign up</b-button>
      
	<b-modal id="modal-center" modal-header-close hide-footer>
		<b-tabs card>
			<b-tab title="Login" active>
          <div class="d-block">
            <template>
                <div class="vue-template">
                    <form>
                        <div class="form-group">
                            <label>Email address</label>
                            <input type="email" class="form-control form-control-lg" />
                        </div>
            
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" class="form-control form-control-lg" />
                        </div>
            
                        <button type="submit" class="btn btn-dark btn-lg btn-block">Submit</button>
                             
                    </form>
                </div>
            </template>

          </div>
 
			</b-tab>
			<b-tab title="Signup">
          <div class="d-block">
            <template>
                <div class="vue-template">
                    <form>
                        <b-row>
                            <b-col cols="12">
                        <div class="form-group">
                            <label>Username</label>
                            <input type="text" class="form-control form-control-lg" />
                        </div>
			    </b-col>
			</b-row>
                        <div class="form-group">
                            <label>Email address</label>
                            <input type="email" class="form-control form-control-lg" />
                        </div>
            
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" class="form-control form-control-lg" />
                        </div>
            
                        <button type="submit" class="btn btn-dark btn-lg btn-block">Submit</button>

                    </form>
                </div>
            </template>

          </div>
 

			</b-tab>
		</b-tabs>

         <!-- <b-button class="mt-3" block @click="$bvModal.hide('bv-modal-example')">Close Me</b-button> -->
        </b-modal>
      </div>
  </b-container>
<!-- new login end -->



    <b-container>
    <div class="container">
        <!-- Results Count -->

        <!-- Card Template (templated with Jinja below)-->
        <!-- <div class="row">
                  <b-card img-src="https://static.thenounproject.com/png/330148-200.png" img-alt="Card image" img-left
                      class="mb-3">
                      <b-card-text>
                          Some quick example text to build on the card and make up the bulk of the card's content.
                      </b-card-text>
                  </b-card>
              </div> -->

        {% for listing in results_list_of_dicts %}
        <!-- <div class="row">
            <b-card img-src="{{listing.path}}" img-alt="Card image" img-left class="mb-3" img-height="128px">
                <b-card-text>
                    <h2>{{listing.title}}</h2>
                    <h3>${{listing.price}}</h3>
                    {{listing.description}}
                </b-card-text>
            </b-card>
        </div> -->

        {% endfor %}
    </div>
</div>

    <div class="bundle">    
        <button class="tablink" onclick="openPage('Home', this, 'rgba(18, 185, 35, 0.25)')">Login</button>
        <button class="tablink" onclick="openPage('Signup', this, 'rgba(18, 185, 35, 0.25)')" id="defaultOpen">Signup</button>
    
            <div id="Home" class="tabcontent">
            {% macro displayField(fieldName, placeholderValue) %}
            <div>
                {{ fieldName(class ='form-control', placeholder=placeholderValue, **kwargs) }}
                <ul>
                    {% for error in fieldName.errors %}
                    <li>
                        {{ error }}
                    </li>
                    {% endfor %}
                </ul>
            </div>
            {% endmacro %}
                <h2> Login </h2>
                <p>
                    Enter Username & Password in provided fields to Login
                </p>
            <form action = " {{ url_for('login') }}", method = "POST">
                {{ displayField(form.username, 'username', autocomplete="off", autofocus=true)}}
                {{ displayField(form.password, 'password')}}

                <div>
                    {{ form.submit_button}}
                </div>
                <!-- for later making sure the email is valid?  -->
                {{ form.csrf_token}}
            </form>

                    
            </div>

            <div id="Signup" class="tabcontent">
            {% macro displayField(fieldName, placeholderValue) %}
            <div>
                {{ fieldName(class ='form-control', placeholder=placeholderValue, **kwargs) }}
                <ul>
                    {% for error in fieldName.errors %}
                    <li>
                        {{ error }}
                    </li>
                    {% endfor %}
                </ul>
        
            </div>
            {% endmacro %}
        
            <h2> Signup New User </h2>
            <p>
                Enter Username & Password & Email into provided fields to create new user.
            </p>
            <form method = "POST">
                {{ displayField(regForm.usernameR, 'username', autocomplete="off", autofocus=true)}}
                {{ displayField(regForm.passwordR, 'password')}}
                {{ displayField(regForm.email, 'email')}}

                
                <!-- for later making sure the email is valid?  -->
                <button>Register</button>
            </form>
            </div>
        </b-container>



            <script>
                window.app = new Vue({
                        el: '#app',
                        delimiters: ['[[', ']]'],
                    })
                </script> 
    </div>

</body>

</html>
