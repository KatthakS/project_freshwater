<!DOCTYPE html>
<html lang="en">

<head>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <title>SFSC-Login/Signup</title>
    
        <!-- Required Stylesheets -->
        <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
        <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css" />
    
        <!-- Required scripts -->
        <script src="https://unpkg.com/vue@latest/dist/vue.js"></script>
        <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
        <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.min.js"></script>
    <script>

    function openPage(pageName, elmnt, color) {
        // Hide all elements with class="tabcontent" by default */
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
      
        // Remove the background color of all tablinks/buttons
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].style.backgroundColor = "";
        }
      
        // Show the specific tab content
        document.getElementById(pageName).style.display = "block";
      
        // Add the specific color to the button used to open the tab content
        elmnt.style.backgroundColor = color;
      }
      
      // Get the element with id="defaultOpen" and click on it
      document.getElementById("defaultOpen").click();</script>
      <link rel="stylesheet" href="../static/css/work.css">
</head>

<body class="contents">
<div id="app">
    <b-navbar toggleable="lg" type="light" variant="light">
        <b-navbar-brand href="/">Fresh Water</b-navbar-brand>

        <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

        <b-collapse id="nav-collapse" is-nav>
            <b-navbar-nav>
                <b-nav-item href="/">Buy</b-nav-item>
                <b-nav-item href="/">Rent</b-nav-item>
            </b-navbar-nav>

            <b-navbar-nav class="ml-auto">
                <b-nav-form>
                    <!-- Search Dropdown for Housing Type -->
                    <b-form-select v-model="selected" :options="options" name="HousingType"></b-form-select>
                    <!-- <b-form-datalist id="input-list" :options="options"></b-form-datalist> -->

                    <!-- Search Text Field -->
                    <b-form-input name="search_string" list="input-list" id="input-with-list"
                                  placeholder="What are you looking for?"></b-form-input>

                    <!-- <b-form-input size="auto" class="mx-auto" placeholder="What are you looking for?"></b-form-input> -->
                    <!-- Search Button -->
                    <b-button class="my-2 my-sm-0" type="submit" formaction="/query" type="submit">
                        <b-icon icon="search"></b-icon>
                    </b-button>
                </b-nav-form>
            </b-navbar-nav>

            <!-- Right aligned nav items -->
            <b-navbar-nav class="ml-auto">
                <b-nav-item href="/about">About</b-nav-item>
                <b-nav-item href="#">Contact</b-nav-item>
            </b-navbar-nav>
        </b-collapse>
    </b-navbar>

    <!-- Search Results -->
    <div class="container">
        <!-- Results Count -->

        <!-- Card Template (templated with Jinja below)-->
        <!-- <div class="row">
                  <b-card img-src="https://static.thenounproject.com/png/330148-200.png" img-alt="Card image" img-left
                      class="mb-3">
                      <b-card-text>
                          Some quick example text to build on the card and make up the bulk of the card's content.
                      </b-card-text>
                  </b-card>
              </div> -->

        {% for listing in results_list_of_dicts %}
        <div class="row">
            <b-card img-src="{{listing.path}}" img-alt="Card image" img-left class="mb-3" img-height="128px">
                <b-card-text>
                    <h2>{{listing.title}}</h2>
                    <h3>${{listing.price}}</h3>
                    {{listing.description}}
                </b-card-text>
            </b-card>
        </div>

        {% endfor %}
    </div>
</div>

    <button class="tablink" onclick="openPage('Home', this, 'rgba(18, 185, 35, 0.25)')">Login</button>
    <button class="tablink" onclick="openPage('Signup', this, 'rgba(18, 185, 35, 0.25)')" id="defaultOpen">Signup</button>


    <div id="Home" class="tabcontent">
    {% macro displayField(fieldName, placeholderValue) %}
    <div>
        {{ fieldName(class ='form-control', placeholder=placeholderValue, **kwargs) }}
        <ul>
            {% for error in fieldName.errors %}
            <li>
                {{ error }}
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endmacro %}
        <h2> Login </h2>
        <p>
            Enter Username & Password in provided fields to Login
        </p>
    <form action = " {{ url_for('login') }}", method = "POST">
        {{ displayField(form.username, 'username', autocomplete="off", autofocus=true)}}
        {{ displayField(form.password, 'password')}}

        <div>
            {{ form.submit_button}}
        </div>
        <!-- for later making sure the email is valid?  -->
        {{ form.csrf_token}}
    </form>

            
    </div>

    <div id="Signup" class="tabcontent">
      {% macro displayField(fieldName, placeholderValue) %}
      <div>
          {{ fieldName(class ='form-control', placeholder=placeholderValue, **kwargs) }}
          <ul>
              {% for error in fieldName.errors %}
              <li>
                  {{ error }}
              </li>
              {% endfor %}
          </ul>
  
      </div>
      {% endmacro %}
  
      <h2> Signup New User </h2>
      <p>
          Enter Username & Password & Email into provided fields to create new user.
      </p>
      <form method = "POST">
          {{ displayField(regForm.usernameR, 'username', autocomplete="off", autofocus=true)}}
          {{ displayField(regForm.passwordR, 'password')}}
          {{ displayField(regForm.email, 'email')}}
          {{ displayField(regForm.accept_tos, 'accept_tos')}}
          <div>
              {{ regForm.submit_buttonR }}
          </div>
          <!-- for later making sure the email is valid?  -->
          {{ regForm.csrf_token }}
      </form>
    </div>
    <script>
        window.app = new Vue({
                el: '#app',
                delimiters: ['[[', ']]'],
              })
        </script> 


</body>

</html>
